{"ast":null,"code":"var _jsxFileName = \"/Users/firanolabdisa/Desktop/tuan/2/cs472-project/daily-diary-front/src/components/Post/PostItem/PostItem.tsx\",\n  _s = $RefreshSig$();\n// PostItem.tsx\nimport { Card, CardActions, CardContent, CardHeader, CardMedia, Typography, TextField, Button } from \"@mui/material\";\nimport { useContext, useState } from \"react\";\nimport diaryJpg from \"../../../assets/images/diary.jpg\";\nimport Votes from \"../Votes/Votes\";\nimport { GlobalContext } from \"../../../contexts/PostsContext\";\nimport { isToday } from \"date-fns\";\nimport { convertDateToFormat } from \"../../../utils/utils\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PostItem({\n  post,\n  updatePost,\n  deletePost\n}) {\n  _s();\n  const {\n    searchDate\n  } = useContext(GlobalContext);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedTitle, setEditedTitle] = useState(post.title);\n  const [editedBody, setEditedBody] = useState(post.body);\n  const handleEditClick = () => {\n    setIsEditing(true);\n  };\n  const handleCancelClick = () => {\n    setIsEditing(false);\n    setEditedTitle(post.title);\n    setEditedBody(post.body);\n  };\n  const handleSaveClick = () => {\n    updatePost(post.id, {\n      title: editedTitle,\n      body: editedBody\n    });\n    setIsEditing(false);\n  };\n  const handleDeleteClick = () => {\n    if (window.confirm(\"Are you sure you want to delete this post?\")) {\n      deletePost(post.id);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    variant: \"outlined\",\n    sx: {\n      mt: 2,\n      mb: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      subheader: isToday(searchDate) ? \"Today\" : convertDateToFormat(new Date(searchDate), \"MMMM dd, yyyy\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardMedia, {\n      component: \"img\",\n      height: \"200\",\n      image: diaryJpg,\n      alt: \"Daily diary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      children: isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Title\",\n          value: editedTitle,\n          onChange: e => setEditedTitle(e.target.value),\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Body\",\n          value: editedBody,\n          onChange: e => setEditedBody(e.target.value),\n          multiline: true,\n          rows: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSaveClick,\n          variant: \"contained\",\n          sx: {\n            mt: 2,\n            mr: 1\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCancelClick,\n          variant: \"outlined\",\n          sx: {\n            mt: 2\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          color: \"text.primary\",\n          children: post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"text.secondary\",\n          paragraph: true,\n          sx: {\n            whiteSpace: \"pre-wrap\"\n          },\n          children: post.body\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      disableSpacing: true,\n      sx: {\n        justifyContent: \"space-between\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Votes, {\n        post: post\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), \" \", !isEditing && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleEditClick,\n          variant: \"outlined\",\n          sx: {\n            ml: 2\n          },\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDeleteClick,\n          variant: \"contained\",\n          color: \"error\",\n          sx: {\n            ml: 2\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n_s(PostItem, \"ny3id0K/akvNilZ7i6w0BY/aQOQ=\");\n_c = PostItem;\nvar _c;\n$RefreshReg$(_c, \"PostItem\");","map":{"version":3,"names":["Card","CardActions","CardContent","CardHeader","CardMedia","Typography","TextField","Button","useContext","useState","diaryJpg","Votes","GlobalContext","isToday","convertDateToFormat","jsxDEV","_jsxDEV","Fragment","_Fragment","PostItem","post","updatePost","deletePost","_s","searchDate","isEditing","setIsEditing","editedTitle","setEditedTitle","title","editedBody","setEditedBody","body","handleEditClick","handleCancelClick","handleSaveClick","id","handleDeleteClick","window","confirm","variant","sx","mt","mb","children","subheader","Date","fileName","_jsxFileName","lineNumber","columnNumber","component","height","image","alt","fullWidth","label","value","onChange","e","target","multiline","rows","onClick","mr","color","paragraph","whiteSpace","disableSpacing","justifyContent","ml","_c","$RefreshReg$"],"sources":["/Users/firanolabdisa/Desktop/tuan/2/cs472-project/daily-diary-front/src/components/Post/PostItem/PostItem.tsx"],"sourcesContent":["// PostItem.tsx\nimport {\n    Card,\n    CardActions,\n    CardContent,\n    CardHeader,\n    CardMedia,\n    Typography,\n    TextField,\n    Button\n} from \"@mui/material\";\nimport { useContext, useState } from \"react\";\nimport diaryJpg from \"../../../assets/images/diary.jpg\";\nimport Votes from \"../Votes/Votes\";\nimport { Post } from \"../../../models/Post\";\nimport { GlobalContext } from \"../../../contexts/PostsContext\";\nimport { isToday } from \"date-fns\";\nimport { convertDateToFormat } from \"../../../utils/utils\";\n\ninterface PostItemProps {\n    post: Post;\n    updatePost: (id: string, updatedData: { title: string; body: string }) => void;\n    deletePost: (id: string) => void;\n}\n\nexport default function PostItem({ post, updatePost, deletePost }: PostItemProps) {\n    const { searchDate } = useContext(GlobalContext);\n    const [isEditing, setIsEditing] = useState(false);\n    const [editedTitle, setEditedTitle] = useState(post.title);\n    const [editedBody, setEditedBody] = useState(post.body);\n\n    const handleEditClick = () => {\n        setIsEditing(true);\n    };\n\n    const handleCancelClick = () => {\n        setIsEditing(false);\n        setEditedTitle(post.title);\n        setEditedBody(post.body);\n    };\n\n    const handleSaveClick = () => {\n        updatePost(post.id, {\n            title: editedTitle,\n            body: editedBody\n        });\n        setIsEditing(false);\n    };\n\n    const handleDeleteClick = () => {\n        if (window.confirm(\"Are you sure you want to delete this post?\")) {\n            deletePost(post.id);\n        }\n    };\n\n    return (\n        <Card variant=\"outlined\" sx={{ mt: 2, mb: 2 }}>\n            <CardHeader\n                subheader={\n                    isToday(searchDate)\n                        ? \"Today\"\n                        : convertDateToFormat(new Date(searchDate), \"MMMM dd, yyyy\")\n                }\n            />\n            <CardMedia\n                component=\"img\"\n                height=\"200\"\n                image={diaryJpg}\n                alt=\"Daily diary\"\n            />\n            <CardContent>\n                {isEditing ? (\n                    <>\n                        <TextField\n                            fullWidth\n                            label=\"Title\"\n                            value={editedTitle}\n                            onChange={(e) => setEditedTitle(e.target.value)}\n                            sx={{ mb: 2 }}\n                        />\n                        <TextField\n                            fullWidth\n                            label=\"Body\"\n                            value={editedBody}\n                            onChange={(e) => setEditedBody(e.target.value)}\n                            multiline\n                            rows={4}\n                        />\n                        <Button onClick={handleSaveClick} variant=\"contained\" sx={{ mt: 2, mr: 1 }}>\n                            Save\n                        </Button>\n                        <Button onClick={handleCancelClick} variant=\"outlined\" sx={{ mt: 2 }}>\n                            Cancel\n                        </Button>\n                    </>\n                ) : (\n                    <>\n                        <Typography color=\"text.primary\">{post.title}</Typography>\n                        <Typography color=\"text.secondary\" paragraph sx={{ whiteSpace: \"pre-wrap\" }}>\n                            {post.body}\n                        </Typography>\n                    </>\n                )}\n            </CardContent>\n            <CardActions disableSpacing sx={{ justifyContent: \"space-between\" }}>\n                <Votes post={post} /> {/* Voting component stays left-aligned */}\n                {!isEditing && (\n                    <div>\n                        <Button onClick={handleEditClick} variant=\"outlined\" sx={{ ml: 2 }}>\n                            Edit\n                        </Button>\n                        <Button onClick={handleDeleteClick} variant=\"contained\" color=\"error\" sx={{ ml: 2 }}>\n                            Delete\n                        </Button>\n                    </div>\n                )}\n            </CardActions>\n        </Card>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}